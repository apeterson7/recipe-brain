(this["webpackJsonprecipe-ui"]=this["webpackJsonprecipe-ui"]||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n(1),s=n.n(c),a=n(29),r=n.n(a),o=(n(36),n.p,n(37),n(11)),u=n(12),l=n(14),h=n(13),j=n(8),d=n(9),p=n.n(d),b=function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.recipe.name}),Object(i.jsx)("td",{children:e.recipe.link}),Object(i.jsx)("td",{children:e.recipe.ingredients.length}),Object(i.jsx)("td",{children:Object(i.jsx)(j.b,{to:"/recipes/"+e.recipe._id,children:"View"})})]})},m=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).state={recipes:[]},i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/recipes").then((function(t){e.setState({recipes:t.data})})).catch((function(e){console.log(e)}))}},{key:"recipeList",value:function(){return this.state.recipes.map((function(e){return Object(i.jsx)(b,{recipe:e},e._id)}))}},{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"Recipes"}),Object(i.jsx)(j.b,{to:"/add",children:"Add"}),Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{className:"thead-light",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Recipe"}),Object(i.jsx)("th",{children:"Link"}),Object(i.jsx)("th",{children:"Ingredients"}),Object(i.jsx)("th",{children:"View"})]})}),Object(i.jsx)("tbody",{children:this.recipeList()})]})]})}}]),n}(c.Component),O=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:e.recipe.name}),Object(i.jsx)("p",{children:e.recipe.link}),Object(i.jsx)("ul",{children:e.recipe.ingredients?e.recipe.ingredients.map((function(e){return Object(i.jsx)("li",{children:e.name})})):null})]})},g=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).state={recipe:{}},i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/recipes/"+this.props.match.params.id).then((function(t){e.setState({recipe:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"Recipe"}),Object(i.jsx)(O,{recipe:this.state.recipe},this.state.recipe._id)]})}}]),n}(c.Component),x=n(15),f=n(63),v=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).onChangeName=i.onChangeName.bind(Object(x.a)(i)),i.onChangeLink=i.onChangeLink.bind(Object(x.a)(i)),i.onSubmit=i.onSubmit.bind(Object(x.a)(i)),i.state={name:"",link:"",ingredients:[],instructions:[],timeActive:"",timeCook:"",timeInactive:"",timePrep:"",timeReady:"",timeTotal:"",scrapedRecipe:{},scrapedImgLink:""},i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeLink",value:function(e){this.setState({link:e.target.value}),this.getRecipeFromLink(e.target.value)}},{key:"setIngredient",value:function(){}},{key:"checkAmount",value:function(e){}},{key:"parseIngredient",value:function(e){var t=e.split(" "),n=t.shift();try{if(n=f(n),t.length<2)return{name:t.shift(),quantity:n,unit:null};var i=t.shift();return{name:t.join(" "),quantity:n,unit:i}}catch(c){return t.unshift(n),{name:t.join(" "),quantity:null,unit:null}}}},{key:"getRecipeFromLink",value:function(e){var t=this;p.a.post("/api/recipes/scrape",{link:e}).then((function(e){console.log(e.data);var n=e.data.ingredients.map((function(e){return t.parseIngredient(e)}));console.log(n),t.setState({name:e.data.name,imageSrcLink:e.data.image,ingredients:n,instructions:e.data.instructions})}))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,link:this.state.link,ingredients:this.state.ingredients,instructions:this.state.instructions};console.log(t),p.a.post("/api/recipes",t).then((function(e){return console.log(e.data)})),this.setState({name:""})}},{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"Add New Recipe"}),Object(i.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Link: "}),Object(i.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.link,onChange:this.onChangeLink})]}),this.state.imageSrcLink?Object(i.jsx)("img",{height:"300px",width:"300px",src:this.state.imageSrcLink}):null,Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Recipe "}),Object(i.jsx)("input",{ref:"nameInput",required:!0,className:"form-control",value:this.state.name,onChange:this.onChangeName})]}),this.state.ingredients.length?"Ingredients:":null,Object(i.jsx)("ul",{children:this.state.ingredients.map((function(e){return Object(i.jsxs)("li",{children:[e.name,", ",e.quantity,", ",e.unit]})}))}),this.state.instructions.length?"Instructions:":null,Object(i.jsx)("ul",{children:this.state.instructions.map((function(e){return Object(i.jsx)("li",{children:e})}))}),Object(i.jsx)("div",{className:"form-group",children:Object(i.jsx)("input",{type:"submit",value:"Create Recipe",className:"btn btn-primary"})})]})]})}}]),n}(c.Component),k=(n(64),n(2));var y=function(){return Object(i.jsx)(j.a,{children:Object(i.jsxs)("div",{className:"Container",children:[Object(i.jsx)("br",{}),Object(i.jsx)(k.a,{path:"/",exact:!0,component:m}),Object(i.jsx)(k.a,{path:"/recipes/:id",exact:!0,component:g}),Object(i.jsx)(k.a,{path:"/add",exact:!0,component:v})]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),s(e),a(e)}))};r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(y,{})}),document.getElementById("root")),C()}},[[65,1,2]]]);
//# sourceMappingURL=main.6f18c499.chunk.js.map