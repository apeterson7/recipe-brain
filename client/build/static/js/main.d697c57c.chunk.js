(this["webpackJsonprecipe-ui"]=this["webpackJsonprecipe-ui"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n(1),c=n.n(s),a=n(20),r=n.n(a),o=(n(45),n.p,n(46),n(12)),l=n(13),d=n(7),h=n(16),j=n(15),u=n(17),b=n(9),p=n.n(b),m=function(e){return Object(i.jsx)("div",{class:"card",children:Object(i.jsxs)("div",{class:"card-body",children:[Object(i.jsx)("h5",{class:"card-title",children:Object(i.jsx)("a",{href:e.recipe.link,children:e.recipe.name})}),Object(i.jsxs)("p",{class:"card-text",children:[" This recipe has ",e.recipe.ingredients.length," ingredients. ",e.recipe.time.total?"Cook time is "+e.recipe.time.total:null]}),Object(i.jsx)(u.b,{to:"/recipes/"+e.recipe._id,children:"Show Detail"}),Object(i.jsx)("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModal",children:Object(i.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-trash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(i.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(i.jsx)("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})}),Object(i.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(i.jsx)("div",{class:"modal-dialog",role:"document",children:Object(i.jsxs)("div",{class:"modal-content",children:[Object(i.jsxs)("div",{class:"modal-header",children:[Object(i.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Modal title"}),Object(i.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(i.jsx)("div",{class:"modal-body"}),Object(i.jsxs)("div",{class:"modal-footer",children:[Object(i.jsx)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(i.jsx)("button",{type:"button",class:"btn btn-primary",children:"Save changes"})]})]})})})]})})},O=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).deleteRecipe=i.deleteRecipe.bind(Object(d.a)(i)),i.state={recipes:[]},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/recipes").then((function(t){e.setState({recipes:t.data})})).catch((function(e){console.log(e)}))}},{key:"deleteRecipe",value:function(e){p.a.delete("/api/recipes/"+e).then((function(e){console.log(e.data)})),this.setState({recipes:this.state.recipes.filter((function(t){return t._id!==e}))})}},{key:"recipeList",value:function(){var e=this;return this.state.recipes.map((function(t){return Object(i.jsx)(m,{recipe:t,deleteRecipe:e.deleteRecipe},t._id)}))}},{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"Recipes"}),Object(i.jsx)(u.b,{to:"/add",children:"Add"}),this.recipeList()]})}}]),n}(s.Component),x=n(76),g=n(77),f=n(78),v=n(21),y=n.n(v),k=function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:e.recipe.name}),Object(i.jsx)("p",{children:e.recipe.link}),y.a.times(e.recipe.rating,(function(){return Object(i.jsx)("span",{class:"fa fa-star"})}))," Rated ",e.recipe.rating," Stars",Object(i.jsx)("br",{}),Object(i.jsx)("img",{src:e.recipe.image,width:"100%"}),Object(i.jsxs)(x.a,{defaultActiveKey:"0",children:[Object(i.jsxs)(g.a,{children:[Object(i.jsx)(g.a.Header,{children:Object(i.jsx)(x.a.Toggle,{as:f.a,variant:"link",eventKey:"0",children:"Ingredients"})}),Object(i.jsx)(x.a.Collapse,{eventKey:"0",children:Object(i.jsx)(g.a.Body,{children:Object(i.jsx)("table",{class:"table",children:Object(i.jsx)("tbody",{children:e.recipe.ingredients?e.recipe.ingredients.map((function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsxs)("td",{children:[e.quantity," ",e.unit]}),Object(i.jsx)("td",{children:e.name})]})})):Object(i.jsx)("tr",{children:Object(i.jsx)("td",{children:"No Ingredients Found"})})})})})})]}),Object(i.jsxs)(g.a,{children:[Object(i.jsx)(g.a.Header,{children:Object(i.jsx)(x.a.Toggle,{as:f.a,variant:"link",eventKey:"1",children:"Instructions"})}),Object(i.jsx)(x.a.Collapse,{eventKey:"1",children:Object(i.jsx)(g.a.Body,{children:Object(i.jsx)("ol",{children:e.recipe.instructions?e.recipe.instructions.map((function(e){return Object(i.jsx)("li",{children:e})})):Object(i.jsx)("li",{children:"No instructions found!"})})})})]})]}),Object(i.jsx)("p",{children:e.recipe.notes})]})},C=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).state={recipe:{}},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/recipes/"+this.props.match.params.id).then((function(t){e.setState({recipe:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"Recipe"}),Object(i.jsx)(k,{recipe:this.state.recipe},this.state.recipe._id)]})}}]),n}(s.Component),S=n(72),I=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).onChangeName=i.onChangeName.bind(Object(d.a)(i)),i.onChangeLink=i.onChangeLink.bind(Object(d.a)(i)),i.onSubmit=i.onSubmit.bind(Object(d.a)(i)),i.state={name:"",link:"",ingredients:[],instructions:[],time:{},scrapedRecipe:{},image:""},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeLink",value:function(e){this.setState({link:e.target.value}),this.getRecipeFromLink(e.target.value)}},{key:"setIngredient",value:function(){}},{key:"parseIngredient",value:function(e){var t=e.split(" "),n=t.shift();try{if(n=S(n),t.length<2)return{name:t.shift(),quantity:n,unit:null};var i=t.shift();return{name:t.join(" "),quantity:n,unit:i}}catch(s){return t.unshift(n),{name:t.join(" "),quantity:null,unit:null}}}},{key:"getRecipeFromLink",value:function(e){var t=this;p.a.post("/api/recipes/scrape",{link:e}).then((function(e){console.log(e.data);var n=e.data.ingredients.map((function(e){return t.parseIngredient(e)}));console.log(n),t.setState({name:e.data.name,image:e.data.image,ingredients:n,instructions:e.data.instructions,time:e.data.time})}))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,link:this.state.link,ingredients:this.state.ingredients,instructions:this.state.instructions,time:this.state.time,rating:0,notes:this.state.notes,image:this.state.image};console.log(t),p.a.post("/api/recipes",t).then((function(e){console.log(e.data),window.location="/"})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"Add New Recipe"}),Object(i.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Link: "}),Object(i.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.link,onChange:this.onChangeLink})]}),this.state.image?Object(i.jsx)("img",{width:"100%",src:this.state.image}):null,Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Recipe "}),Object(i.jsx)("input",{ref:"nameInput",required:!0,className:"form-control",value:this.state.name,onChange:this.onChangeName})]}),this.state.ingredients.length?"Ingredients:":null,Object(i.jsx)("ul",{children:this.state.ingredients.map((function(e){return Object(i.jsxs)("li",{children:[e.name,", ",e.quantity,", ",e.unit]})}))}),this.state.instructions.length?"Instructions:":null,Object(i.jsx)("ul",{children:this.state.instructions.map((function(e){return Object(i.jsx)("li",{children:e})}))}),Object(i.jsx)("div",{className:"form-group",children:Object(i.jsx)("input",{type:"submit",value:"Create Recipe",className:"btn btn-primary"})})]})]})}}]),n}(s.Component),N=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).onChangeIngredient=i.onChangeIngredient.bind(Object(d.a)(i)),i.onChangeInstruction=i.onChangeInstruction.bind(Object(d.a)(i)),i.onChangeNote=i.onChangeNote.bind(Object(d.a)(i)),i.submit=i.submit.bind(Object(d.a)(i)),i.state={recipe:{},$push:[],$set:{}},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/recipes/"+this.props.match.params.id).then((function(t){e.setState({recipe:t.data})})).catch((function(e){console.log(e)}))}},{key:"onChangeIngredient",value:function(e,t,n){var i=this.state.recipe.ingredients[e];i[n]=t.target.value;var s=this.state.$push;s.push(i),this.setState({$push:s})}},{key:"onChangeInstruction",value:function(e,t){var n=this.state.recipe.ingredients[e],i=this.state.$push;i.push(n),this.setState({$push:i})}},{key:"onChangeNote",value:function(e){var t=this.state.$set;t.push({note:e.target.value}),this.setState({$set:t})}},{key:"submit",value:function(){p.a.put("/api/recipes",this.state.recipe).then((function(e){console.log(e.data)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"Recipe"}),Object(i.jsx)("h1",{children:this.state.recipe.name}),Object(i.jsx)("p",{children:this.state.recipe.link}),y.a.times(this.state.recipe.rating,(function(){return Object(i.jsx)("span",{class:"fa fa-star"})}))," Rated ",this.state.recipe.rating," Stars",Object(i.jsx)("br",{}),Object(i.jsx)("div",{class:"card",children:Object(i.jsxs)("div",{class:"card-body",children:[Object(i.jsx)("h5",{class:"card-title",children:"Ingredients"}),this.state.recipe.ingredients?this.state.recipe.ingredients.map((function(t,n){return Object(i.jsxs)("form",{class:"form-inline",children:[Object(i.jsxs)("label",{for:"email",children:[n+1," Name"]}),Object(i.jsx)("input",{type:"text",class:"form-control",placeholder:t.name,onChange:function(t){e.onChangeIngredient(n,t,"name")}}),Object(i.jsx)("label",{for:"pwd",children:"Quantity"}),Object(i.jsx)("input",{type:"text",class:"form-control",placeholder:t.quantity,onChange:function(t){e.onChangeIngredient(n,t,"quantity")}}),Object(i.jsx)("label",{for:"pwd",children:"Unit"}),Object(i.jsx)("input",{type:"text",class:"form-control",placeholder:t.unit,onChange:function(t){e.onChangeIngredient(n,t,"unit")}})]})})):Object(i.jsx)("p",{children:"No Ingredients Found"})]})}),Object(i.jsx)("div",{class:"card",children:Object(i.jsxs)("div",{class:"card-body",children:[Object(i.jsx)("h5",{class:"card-title",children:"Instructions"}),this.state.recipe.instructions?this.state.recipe.instructions.map((function(t,n){return Object(i.jsxs)("div",{class:"form-group",children:[Object(i.jsxs)("label",{children:["Instruction ",n+1]}),Object(i.jsx)("textarea",{class:"form-control",value:t,id:"instruction"+n,onChange:function(t){e.onChangeInstruction(n,t)}})]})})):Object(i.jsx)("p",{children:"No instructions found!"})]})}),Object(i.jsxs)("div",{class:"form-group",children:[Object(i.jsx)("label",{children:"Notes"}),Object(i.jsx)("textarea",{class:"form-control",value:this.state.note,id:"notes",onChange:this.onChangeNote})]}),Object(i.jsx)("button",{class:"btn btn-primary",onClick:this.submit,children:"Submit"})]})}}]),n}(s.Component),w=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).onSubmit=i.onSubmit.bind(Object(d.a)(i)),i.state={name:""},i}return Object(l.a)(n,[{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,link:this.state.link,ingredients:this.state.ingredients,instructions:this.state.instructions};console.log(t),p.a.post("/api/recipes",t).then((function(e){console.log(e.data),window.location="/"})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(i.jsx)("div",{children:Object(i.jsx)("form",{onSubmit:this.onSubmit,children:Object(i.jsx)("div",{className:"form-group",children:Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:"Search"})})})})}}]),n}(s.Component),R=(n(73),n(4));var L=function(){return Object(i.jsxs)("div",{class:"grid-container",children:[Object(i.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),Object(i.jsx)("div",{id:"left-sidebar"}),Object(i.jsxs)("div",{id:"main",children:[Object(i.jsx)(w,{}),Object(i.jsx)(u.a,{id:"router",children:Object(i.jsxs)("div",{className:"Container",children:[Object(i.jsx)("br",{}),Object(i.jsx)(R.a,{path:"/",exact:!0,component:O}),Object(i.jsx)(R.a,{path:"/recipes/:id",exact:!0,component:C}),Object(i.jsx)(R.a,{path:"/edit/:id",exact:!0,component:N}),Object(i.jsx)(R.a,{path:"/add",exact:!0,component:I})]})})]}),Object(i.jsx)("div",{id:"right-sidebar"})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),s(e),c(e),a(e)}))};r.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(L,{})}),document.getElementById("root")),M()}},[[74,1,2]]]);
//# sourceMappingURL=main.d697c57c.chunk.js.map